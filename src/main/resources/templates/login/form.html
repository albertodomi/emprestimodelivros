<!DOCTYPE html>
<html lang="pt-BR" xmlns:th="http://www.thymeleaf.org"
      th:replace="~{layout :: layout (~{::title}, ~{::section})}">
<head>
    <title>Login - Sistema de Biblioteca</title>
</head>
<body>
<section class="flex items-center justify-center min-h-[calc(100vh-70px)] bg-white px-4">
    <div class="w-full max-w-md bg-white rounded-lg shadow-lg p-10 border border-gray-300 mx-auto">
        <h2 class="text-3xl font-bold mb-6 text-center text-gray-800">Login</h2>

        <!-- Mensagens de feedback -->
        <div th:if="${param.error}" class="mb-4 p-3 bg-red-100 text-red-700 rounded">
            Credenciais inválidas
        </div>
        <div th:if="${param.logout}" class="mb-4 p-3 bg-green-100 text-green-700 rounded">
            Você foi desconectado com sucesso
        </div>
        <div th:if="${loginError}" class="mb-4 p-3 bg-red-100 text-red-700 rounded" th:text="${loginError}"></div>

        <form method="post" th:action="@{/auth/login}" th:object="${login}" class="space-y-6">
            <div>
                <label for="email" class="block text-gray-700 font-semibold mb-2">Email</label>
                <input
                    type="email"
                    id="email"
                    th:field="*{email}"
                    placeholder="Digite seu email"
                    class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400"
                />
                <div th:if="${#fields.hasErrors('email')}" class="mt-1 text-red-600 text-sm" th:errors="*{email}"></div>
            </div>

            <div>
                <label for="senha" class="block text-gray-700 font-semibold mb-2">Senha</label>
                <input
                    type="password"
                    id="senha"
                    th:field="*{senha}"
                    placeholder="Digite sua senha"
                    class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400"
                />
                <div th:if="${#fields.hasErrors('senha')}" class="mt-1 text-red-600 text-sm" th:errors="*{senha}"></div>
            </div>

            <button
                type="submit"
                class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-md transition-colors"
            >
                Entrar
            </button>
        </form>
    </div>
</section>

</body>
</html>
